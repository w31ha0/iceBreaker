{"version":3,"file":"4.00c64fb6a70d944f364c.hot-update.js","sources":["webpack:///components/LettersComponent.js"],"sourcesContent":["import React from 'react'\r\nimport axios from \"axios\";\r\nimport endpoints from \"../constants/endpoints\";\r\n\r\nexport default class LetterComponent extends React.Component {\r\n\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            lettersUsed: [],\r\n            lettersAvailable: props.lettersAssigned.slice()\r\n        }\r\n    }\r\n\r\n    componentWillReceiveProps(newProps){\r\n        console.log(\"Letter component will receive props\")\r\n        this.setState({\r\n            lettersUsed: Array.apply(null,{length: newProps.lettersAssigned.length}).map(function() { return '-'; }),\r\n            lettersAvailable: newProps.lettersAssigned.slice()\r\n        })\r\n    }\r\n\r\n    handleLetterSelected = (e) => {\r\n        var lettersUsed = this.state.lettersUsed\r\n        var lettersAvailable = this.state.lettersAvailable\r\n        lettersUsed[lettersUsed.indexOf('-')] = this.state.lettersAvailable[e.target.value]\r\n        lettersAvailable.splice(e.target.value, 1)\r\n        this.setState({\r\n            lettersUsed: lettersUsed,\r\n            lettersAvailable: lettersAvailable\r\n        })\r\n        this.handleLettersChanged()\r\n    }\r\n\r\n    removeOneCharFromLettersUsed = (e) => {\r\n        var lettersUsed = this.state.lettersUsed\r\n        var index = lettersUsed.indexOf('-')\r\n        if (index != 0) {\r\n            var lettersUsed = this.state.lettersUsed\r\n            var lettersAvailable = this.state.lettersAvailable\r\n            var indexToBeRemoved = 0\r\n            if (index != -1)\r\n                indexToBeRemoved = index - 1\r\n            else\r\n                indexToBeRemoved = lettersUsed.length-1\r\n            var letterRemoved = lettersUsed[indexToBeRemoved]\r\n            lettersUsed[indexToBeRemoved] = '-'\r\n            lettersAvailable.push(letterRemoved)\r\n            this.setState({\r\n                lettersUsed: lettersUsed,\r\n                lettersAvailable: lettersAvailable\r\n            })\r\n            this.handleLettersChanged()\r\n        }\r\n\r\n    }\r\n\r\n    handleLettersChanged = () => {\r\n        if(this.state.lettersUsed.join('') === this.props.userName && typeof window !== 'undefined'){\r\n            axios({\r\n                method: 'post',\r\n                url: endpoints.API_USER_COMPLETED_GAME\r\n            })\r\n            .then((response) => {\r\n                window.alert(\"You have completed the game!\")\r\n                window.location.href='/'\r\n            })\r\n            .catch(function (response) {\r\n                //handle error\r\n                console.log(response);\r\n            });\r\n        }}\r\n\r\n\r\n    render(){\r\n        return(\r\n            <div>\r\n                <div id=\"instructions\">\r\n                    Use the letters below to form your username: {this.props.userName}\r\n                </div>\r\n                <div>\r\n                    {this.state.lettersUsed.join(' ')}\r\n                    <button id=\"cancel-btn\" onClick={this.removeOneCharFromLettersUsed} className=\"btn btn-light\">C</button>\r\n                </div>\r\n                <div id=\"letters-available\">\r\n                    {this.state.lettersAvailable.map((letter,index) => {\r\n                        return <button id=\"letter-available\" value={index} onClick={this.handleLetterSelected} className=\"btn btn-primary\">{letter}</button>\r\n                    })}\r\n                </div>\r\n                <style jsx>{`\r\n                    #cancel-btn {\r\n                              margin-left: 20px;\r\n                              margin-bottom: 20px;\r\n                            }\r\n                    #letters-available {\r\n                              margin-bottom: 20px;\r\n                            }\r\n                    #letter-available {\r\n                              margin: 5px;\r\n                            }\r\n                    #instructions {\r\n                              margin: 15px;\r\n                    }\r\n                `}</style>\r\n            </div>\r\n        )\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// components/LettersComponent.js"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;;;;;AAEA;AAAA;AACA;AADA;AACA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AAiBA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAFA;AACA;AAGA;AACA;AA1BA;AAAA;AAAA;AAAA;AAAA;AAAA;AA6BA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AAAA;AACA;AACA;AAFA;AACA;AAGA;AACA;AAEA;AAjDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAoDA;AACA;AACA;AACA;AAFA;AAKA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAjEA;AAEA;AACA;AACA;AAFA;AAFA;AAMA;AACA;;;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAFA;AAIA;;;AAsDA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAXA;AAAA;AAAA;AA8BA;;;;AAtGA;AACA;;;;;A","sourceRoot":""}