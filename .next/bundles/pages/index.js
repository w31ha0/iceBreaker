module.exports=__NEXT_REGISTER_PAGE("/",function(){return{page:webpackJsonp([0],{139:function(e,t){e.exports={FOOD_OPTIONS:["hokkien mee","laksa","mee rebus"],DESHU_OPTIONS:["博A","博B","忍","信","公"]}},285:function(e,t,a){e.exports=a(286)},286:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(15),r=a.n(n),o=a(0),i=a.n(o),s=a(87),l=a.n(s);var c=function e(t,a,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t,this.birthday=a,this.favouriteFood=r,this.deshu=n},u=a(287),f=a.n(u),p=a(88),b=a(139),m=a.n(b);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var y=function(e){function t(){var e,a,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,n=(t.__proto__||Object.getPrototypeOf(t)).call(this),e=!n||"object"!==d(n)&&"function"!=typeof n?g(a):n,Object.defineProperty(g(e),"handleNameChange",{configurable:!0,enumerable:!0,writable:!0,value:function(t){e.setState({name:t.target.value})}}),Object.defineProperty(g(e),"handleBirthdayChange",{configurable:!0,enumerable:!0,writable:!0,value:function(t){e.setState({birthday:t.target.value})}}),Object.defineProperty(g(e),"handleFavouriteFoodChange",{configurable:!0,enumerable:!0,writable:!0,value:function(t){console.log(t.target),e.setState({favouriteFood:t.target.value})}}),Object.defineProperty(g(e),"handleDeshuChange",{configurable:!0,enumerable:!0,writable:!0,value:function(t){console.log(t.target),e.setState({deshu:t.target.value})}}),e.state={name:"",birthday:"",favouriteFood:"",deshu:""},e}var a,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.a.Component),a=t,(n=[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"jsx-2829528195 wrapper"},i.a.createElement("div",{className:"jsx-2829528195 center-container"},i.a.createElement("img",{src:"/static/main_logo.png",className:"jsx-2829528195 main-logo"})),i.a.createElement("div",{className:"jsx-2829528195 form-group-container"},i.a.createElement("label",{className:"jsx-2829528195 label-general"},"Name"),i.a.createElement("input",{onChange:this.handleNameChange,id:"name",name:"name",className:"jsx-2829528195 input-general"})),i.a.createElement("div",{className:"jsx-2829528195 form-group-container"},i.a.createElement("label",{className:"jsx-2829528195 label-general"},"Deshu"),i.a.createElement("select",{onChange:this.handleDeshuChange,name:"deshu",className:"jsx-2829528195 input-general"},i.a.createElement("option",{disabled:!0,selected:!0,value:!0,className:"jsx-2829528195 option-general"},"Select your deshu."),m.a.DESHU_OPTIONS.map(function(e){return i.a.createElement("option",{value:e,className:"jsx-2829528195 option-general"},e)}))),i.a.createElement("div",{className:"jsx-2829528195 form-group-container"},i.a.createElement("label",{className:"jsx-2829528195 label-general"},"Birthday"),i.a.createElement("input",{type:"date",onChange:this.handleBirthdayChange,name:"birthday",className:"jsx-2829528195 input-general"})),i.a.createElement("div",{className:"jsx-2829528195 form-group-container"},i.a.createElement("label",{className:"jsx-2829528195 label-general"},"Favourite Food"),i.a.createElement("select",{onChange:this.handleFavouriteFoodChange,name:"favouriteFood",className:"jsx-2829528195 input-general"},i.a.createElement("option",{disabled:!0,selected:!0,value:!0,className:"jsx-2829528195 option-general"},"Select your favourite food"),m.a.FOOD_OPTIONS.map(function(e){return i.a.createElement("option",{value:e,className:"jsx-2829528195 option-general"},e)}))),i.a.createElement("div",{className:"jsx-2829528195 form-group-container"},i.a.createElement("button",{onClick:function(){e.props.onSignIn(e.state.name,e.state.birthday,e.state.favouriteFood,e.state.deshu)},type:"submit",className:"jsx-2829528195 btn-submit"},"Submit")),i.a.createElement(r.a,{styleId:"2829528195",css:[".option-general.jsx-2829528195{color:black;}",".main-logo.jsx-2829528195{width:70px;height:70px;float:center;}"]}))}}])&&h(a.prototype,n),o&&h(a,o),t}(),v=a(40),x=a.n(v),E=a(55),w=a(21),S=a.n(w),N=a(53),j=a(90),O=a.n(j);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function T(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var P=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=T(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))).state={userName:"",birthday:"",favouriteFood:"",deshu:""},e}var a,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.a.Component),a=t,(n=[{key:"componentDidMount",value:function(){var e=this;S.a.getUserInfo().then(function(t){console.log("Retrieved User Object "+JSON.stringify(t)),e.setState({userName:t.name,birthday:t.birthday,favouriteFood:t.favouriteFood,deshu:t.deshu})},function(e){})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"jsx-1079803651 wrapper"},i.a.createElement("div",{className:"jsx-1079803651 group-container"},i.a.createElement("label",{className:"jsx-1079803651 label-title"},"Please wait for the game master to start the game."),i.a.createElement("label",{className:"jsx-1079803651 label-general"},"Name: ",this.state.userName),i.a.createElement("label",{className:"jsx-1079803651 label-general"},"Deshu: ",this.state.deshu),i.a.createElement("label",{className:"jsx-1079803651 label-general"},"Birthday: ",this.state.birthday),i.a.createElement("label",{className:"jsx-1079803651 label-general"},"Favourite Food: ",this.state.favouriteFood),i.a.createElement("img",{src:"/static/logo.svg",alt:"logo",className:"jsx-1079803651 App-logo"}),i.a.createElement("div",{className:"jsx-1079803651 form-group-container"},i.a.createElement("button",{onClick:function(){S.a.logoutUser().then(function(t){e.props.onSignOut()},function(e){})},className:"jsx-1079803651 btn"},"Unregister"))),i.a.createElement(r.a,{styleId:"1079803651",css:["#wrapper.jsx-1079803651{background:transparent;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:7px;width:100%;height:100%;}",".group-container.jsx-1079803651{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%;padding:7px;}",".label-title.jsx-1079803651{color:white;font-family:'Roboto Medium',sans-serif;font-size:100%;font-weight:lighter;text-align:center;margin-bottom:20px;}",".label-general.jsx-1079803651{color:white;font-family:'Roboto Medium',sans-serif;font-size:100%;font-weight:lighter;text-align:center;}",".btn.jsx-1079803651{background:transparent;box-shadow:none;border:1px solid #fff;-webkit-transition:.3s all ease;transition:.3s all ease;color:white;font-family:'Roboto Medium',sans-serif;font-size:100%;font-weight:lighter;width:100px;height:100%;}",".form-group-container.jsx-1079803651{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}"]}))}}])&&C(a.prototype,n),o&&C(a,o),t}(),F=a(30),I=a.n(F);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var U=function(e){function t(e){var a,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=(t.__proto__||Object.getPrototypeOf(t)).call(this,e),a=!r||"object"!==k(r)&&"function"!=typeof r?A(n):r,Object.defineProperty(A(a),"handleLetterSelected",{configurable:!0,enumerable:!0,writable:!0,value:function(e){console.log("Target value is"+e.target.value+".");var t=a.state.lettersUsed,n=a.state.lettersAvailable;t[t.indexOf("-")]=a.state.lettersAvailable[e.target.value],console.log("Letters used are now "+t.join(" ")),n.splice(e.target.value,1),a.setState({lettersUsed:t,lettersAvailable:n}),a.handleLettersChanged()}}),Object.defineProperty(A(a),"removeOneCharFromLettersUsed",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t=(n=a.state.lettersUsed).indexOf("-");if(0!=t){var n=a.state.lettersUsed,r=a.state.lettersAvailable,o=0,i=n[o=-1!=t?t-1:n.length-1];n[o]="-",r.push(i),a.setState({lettersUsed:n,lettersAvailable:r}),a.handleLettersChanged()}}}),Object.defineProperty(A(a),"handleLettersChanged",{configurable:!0,enumerable:!0,writable:!0,value:function(){a.state.lettersUsed.join("")===a.props.userName&&"undefined"!=typeof window&&S.a.completeGame().then(function(){localStorage.clear(),a.props.onGameCompleted(),window.alert("You have completed the game!"),window.location.href="/leaderboard"},function(e){})}}),a.state={lettersUsed:[],lettersAvailable:e.lettersAssigned.slice()},a}var a,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.a.Component),a=t,(n=[{key:"componentWillReceiveProps",value:function(e){console.log("Letter component will receive props"),this.setState({lettersUsed:Array.apply(null,{length:e.lettersAssigned.length}).map(function(){return"-"}),lettersAvailable:e.lettersAssigned.slice()})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"jsx-645267818"},i.a.createElement("div",{id:"instructions2",className:"jsx-645267818 form-group"},i.a.createElement("label",{className:"jsx-645267818 label-general"},"To complete the game, click on the boxes below to form your username: ",this.props.userName)),i.a.createElement("div",{id:"playerBirthday",className:"jsx-645267818 form-group"},i.a.createElement("label",{className:"jsx-645267818 label-general"},"Your Deshu: ",this.props.deshu)),i.a.createElement("div",{id:"playerBirthday",className:"jsx-645267818 form-group"},i.a.createElement("label",{className:"jsx-645267818 label-general"},"Your Birthday: ",this.props.birthday)),i.a.createElement("div",{id:"playerBirthday",className:"jsx-645267818 form-group"},i.a.createElement("label",{className:"jsx-645267818 label-general"},"Your Favourite Food: ",this.props.favouriteFood)),i.a.createElement("div",{id:"instructions",className:"jsx-645267818 form-group"},i.a.createElement("label",{className:"jsx-645267818 label-general"},"To get the letters you need, click a player on the left to begin exchanging letters with him/her.")),i.a.createElement("div",{className:"jsx-645267818 form-group-container"},i.a.createElement("pre",{className:"jsx-645267818 pre-general"},this.state.lettersUsed.join(" ")),i.a.createElement("button",{onClick:this.removeOneCharFromLettersUsed,className:"jsx-645267818 btn-back"},"Backspace")),i.a.createElement("div",{className:"jsx-645267818 letter-available"},this.state.lettersAvailable.map(function(t,a){return i.a.createElement("button",{value:a,onClick:e.handleLetterSelected,className:"jsx-645267818 btn-letter"},/\S/.test(t)?t:"Space")})),i.a.createElement(r.a,{styleId:"645267818",css:[".letter-available.jsx-645267818{padding:7px;}","#instructions.jsx-645267818{margin-bottom:15px;}","#instructions2.jsx-645267818{margin-bottom:15px;}",".pre-general.jsx-645267818{color:black;background:transparent;border:0px;font-size:20px;}",".btn-back.jsx-645267818{background:transparent;box-shadow:none;border:1px solid #fff;-webkit-transition:.3s all ease;transition:.3s all ease;color:white;font-family:'Roboto Medium',sans-serif;font-size:100%;font-weight:lighter;width:100px;padding:7px;height:100%;}",".btn-letter.jsx-645267818{background:transparent;box-shadow:none;border:1px solid #fff;-webkit-transition:.3s all ease;transition:.3s all ease;color:white;font-family:'Roboto Medium',sans-serif;font-size:100%;font-weight:lighter;width:70px;height:100%;padding:7px;margin-right:20px;margin-top:20px;}"]}))}}])&&R(a.prototype,n),o&&R(a,o),t}();function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var D=function(e){function t(){var e,a,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,n=(t.__proto__||Object.getPrototypeOf(t)).call(this),e=!n||"object"!==q(n)&&"function"!=typeof n?G(a):n,Object.defineProperty(G(e),"handleBirthdayChange",{configurable:!0,enumerable:!0,writable:!0,value:function(t){console.log(t.target.value),e.setState({birthday:t.target.value})}}),Object.defineProperty(G(e),"handleFavouriteFoodChange",{configurable:!0,enumerable:!0,writable:!0,value:function(t){console.log(t.target.value),e.setState({favouriteFood:t.target.value})}}),Object.defineProperty(G(e),"handleLetterToExchangeChange",{configurable:!0,enumerable:!0,writable:!0,value:function(t){console.log(t.target.value),e.setState({letterToExchange:t.target.value})}}),Object.defineProperty(G(e),"handleDeshuChange",{configurable:!0,enumerable:!0,writable:!0,value:function(t){console.log(t.target.value),e.setState({deshu:t.target.value})}}),Object.defineProperty(G(e),"updateExchangeData",{configurable:!0,enumerable:!0,writable:!0,value:function(t){console.log("Updating exchange data"),e.setState({birthday:t.birthday,favouriteFood:t.favouriteFood,deshu:t.deshu})}}),Object.defineProperty(G(e),"retrieveFromCacheByUserName",{configurable:!0,enumerable:!0,writable:!0,value:function(t){var a=JSON.parse(localStorage.getItem(t));null!==a?(console.log("Found cached data for "+t+": "+JSON.stringify(a)),e.updateExchangeData(a)):console.log("No cache found for "+t)}}),Object.defineProperty(G(e),"checkIfFieldsAreComplete",{configurable:!0,enumerable:!0,writable:!0,value:function(e,t,a,n,r){return!!(e&&t&&a&&n&&r)||(I.a.showNotification(x.a.NOTIFICATION_INCOMPLETE_DETAILS),!1)}}),e.state={birthday:"",favouriteFood:"default",deshu:"default",letterToExchange:""},e}var a,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.a.Component),a=t,(n=[{key:"componentWillReceiveProps",value:function(e){console.log("Received new props "+JSON.stringify(e)),console.log("Trying to retrieve from cache"),this.retrieveFromCache(e)}},{key:"componentWillMount",value:function(){console.log("Component will mount"),this.retrieveFromCache(this.props)}},{key:"render",value:function(){return console.log("State is "+JSON.stringify(this.state)),i.a.createElement("div",null,i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{className:"label-general"},"Name")),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{className:"label-general"},this.props.targetUser)),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{className:"label-general"},"Deshu"),i.a.createElement("select",{value:this.state.deshu,onChange:this.handleDeshuChange,className:"input-general",name:"deshu"},i.a.createElement("option",{className:"option-general",disabled:!0,value:"default"},"Select his/her deshu."),m.a.DESHU_OPTIONS.map(function(e){return i.a.createElement("option",{className:"option-general",value:e},e)}))),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{className:"label-general"},"Birthday"),i.a.createElement("input",{type:"date",className:"input-general",name:"birthday",value:this.state.birthday,onChange:this.handleBirthdayChange})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{className:"label-general"},"Favourite Food"),i.a.createElement("select",{value:this.state.favouriteFood,className:"input-general",name:"favouriteFood",onChange:this.handleFavouriteFoodChange},i.a.createElement("option",{className:"option-general",disabled:!0,value:"default"},"Select his/her favourite food"),m.a.FOOD_OPTIONS.map(function(e){return i.a.createElement("option",{className:"option-general",value:e},e)}))),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{className:"label-general"},"Letter To Exchange Away"),i.a.createElement("select",{className:"input-general",name:"letterToExchange",onChange:this.handleLetterToExchangeChange},i.a.createElement("option",{className:"option-general",disabled:!0,selected:!0,value:!0},"Select a letter to exchange away"),this.props.lettersAvailable.map(function(e){return i.a.createElement("option",{className:"option-general",value:e},/\S/.test(e)?e:"Space")}))),i.a.createElement("div",null,i.a.createElement("button",{onClick:this.submitForm,className:"btn-submit"},"Submit")))}}])&&L(a.prototype,n),r&&L(a,r),t}();var B=function e(t,a,n,r,o,i,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.request_user=t,this.respond_user=a,this.birthday=n,this.favouriteFood=r,this.deshu=o,this.letterToExchange=i,this.letterToReceive=s};function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?V(e):t}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var W=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return H(n,(a=n=H(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),Object.defineProperty(V(n),"submitForm",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t=n.props.userName,a=n.props.userSelected,r=n.state.birthday,o=n.state.favouriteFood,i=n.state.deshu,s=n.state.letterToExchange;if(n.checkIfFieldsAreComplete(a,r,o,i,s)){var l=new B(t,a,r,o,i,s,"");console.log("ExchangeRequest: "+JSON.stringify(l)),S.a.sendExchangeRequest(l).then(function(e){n.props.onExchangeRequestSubmitSuccess(n.state.letterToExchange,l),n.props.updateExchangeRequest(l)},function(e){I.a.showNotification(e)})}}}),Object.defineProperty(V(n),"retrieveFromCache",{configurable:!0,enumerable:!0,writable:!0,value:function(e){n.retrieveFromCacheByUserName(e.userSelected)}}),a))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,D),t}();function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){return!t||"object"!==J(t)&&"function"!=typeof t?X(e):t}function X(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Y=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return z(n,(a=n=z(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),Object.defineProperty(X(n),"submitForm",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t=n.props.exchangeRequest.request_user,a=n.props.exchangeRequest.respond_user,r=n.state.birthday,o=n.state.favouriteFood,i=n.state.deshu,s=n.state.letterToExchange,l=n.props.exchangeRequest.letterToExchange;if(n.checkIfFieldsAreComplete(a,r,o,i,s)){var c=new B(t,a,r,o,i,s,l);console.log("ExchangeResponse: "+JSON.stringify(c)),S.a.sendExchangeResponse(c).then(function(e){n.props.onExchangeResponseSubmitSuccess(e)},function(e){I.a.showNotification(e)})}}}),Object.defineProperty(X(n),"retrieveFromCache",{configurable:!0,enumerable:!0,writable:!0,value:function(e){n.retrieveFromCacheByUserName(e.exchangeRequest.request_user)}}),a))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,D),t}();function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Z(e,t){return!t||"object"!==K(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var $=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Z(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var a,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.a.Component),a=t,(n=[{key:"render",value:function(){return i.a.createElement("div",{className:"jsx-2088511049 wrapper"},i.a.createElement("div",{className:"jsx-2088511049 custom-container"},i.a.createElement("label",{className:"jsx-2088511049 label-general"},"You have entered the correct details! Waiting for other party to verify"),i.a.createElement("img",{src:"/static/logo.svg",alt:"logo",className:"jsx-2088511049 App-logo"}),i.a.createElement("button",{onClick:this.props.cancel,className:"jsx-2088511049 btn-cancel"},"Cancel")),i.a.createElement(r.a,{styleId:"2088511049",css:[".custom-container.jsx-2088511049{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%;padding:7px;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}"]}))}}])&&Q(a.prototype,n),o&&Q(a,o),t}();function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}a.d(t,"default",function(){return ne});var ne=function(e){function t(){var e,a,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,n=(t.__proto__||Object.getPrototypeOf(t)).call(this),e=!n||"object"!==ee(n)&&"function"!=typeof n?ae(a):n,Object.defineProperty(ae(e),"setupPusher",{configurable:!0,enumerable:!0,writable:!0,value:function(){e.pusher=new l.a(O.a.PUSHER_APP_KEY,{cluster:O.a.PUSHER_APP_CLUSTER,encrypted:!0}),e.channel=e.pusher.subscribe(x.a.PUSHER_CHANNEL),e.channel.bind(x.a.PUSHER_USER_LIST_UPDATE_EVENT,function(t){var a=t.activeUsers;console.log("Received new user list from Pusher: "+a);var n=a.map(function(e){return e.name});e.setState({activeUsers:n})}),e.channel.bind(x.a.PUSHER_NEW_EXCHANGE_REQUEST_EVENT,function(t){console.log("Received new exchange request: "+JSON.stringify(t)),t.respond_user==e.state.userName&&(console.log("Exchange request is for me."),e.exchangeRequest=t,e.setState({isVerifyingForCounterParty:!0}))}),e.channel.bind(x.a.EXCHANGE_COMPLETED_EVENT,function(t){t.request_user==e.state.userName&&(I.a.showNotification(x.a.NOTIFICATION_EXCHANGE_SUCCESSFUL),console.log("Exchange request has completed: "+JSON.stringify(t)),console.log("Letters assigned are now "+e.state.lettersAssigned),e.setState({isWaitingForCounterPartyToVerify:!1}),e.retrieveAllGameInformation())}),e.channel.bind(x.a.PUSHER_GAME_START_EVENT,function(){e.state.signedIn&&(console.log("Game has started...loading main page..."),e.setState({isWaitingForGameToStart:!1}),e.retrieveAllGameInformation(),I.a.showNotification(x.a.NOTIFICATION_GAME_BEGUN))}),e.channel.bind(x.a.PUSHER_GAME_STOP_EVENT,function(){e.state.signedIn&&(console.log("Received notification to stop the game abruptly!"),localStorage.clear(),e.pusher.disconnect(),window.alert("Game has been forcefully stopped by game master"),window.location.href="/")}),e.channel.bind(x.a.PUSHER_EXCHANGE_CANCELLED_EVENT,function(t){console.log("Received cancel request: "+JSON.stringify(t)),t.request_user==e.state.userName&&e.state.isWaitingForCounterPartyToVerify?(e.setState({isWaitingForCounterPartyToVerify:!1}),I.a.showNotification(x.a.NOTIFICATION_CANCEL_EXCHANGE)):t.respond_user==e.state.userName&&e.state.isVerifyingForCounterParty&&(e.setState({isVerifyingForCounterParty:!1}),I.a.showNotification(x.a.NOTIFICATION_CANCEL_EXCHANGE))}),window.onbeforeunload=function(){this.pusher.disconnect()}}}),Object.defineProperty(ae(e),"checkGameState",{configurable:!0,enumerable:!0,writable:!0,value:function(){S.a.checkAuthenticated().then(function(t){e.setState({signedIn:!0,authenticationChecked:!0})},function(t){e.setState({authenticationChecked:!0})}),S.a.checkGameStarted().then(function(t){e.setState({isWaitingForGameToStart:!1}),e.retrieveAllGameInformation(),e.setState({gameStartedChecked:!0})},function(t){e.setState({gameStartedChecked:!0})})}}),Object.defineProperty(ae(e),"retrieveAllGameInformation",{configurable:!0,enumerable:!0,writable:!0,value:function(){e.retrieveUserInfo(),e.retriveLetters(),e.retrieveActiveUsers()}}),Object.defineProperty(ae(e),"cancelWaitingForVerification",{configurable:!0,enumerable:!0,writable:!0,value:function(t){e.setState({isWaitingForCounterPartyToVerify:!1}),S.a.cancelExchange(e.exchangeRequest)}}),Object.defineProperty(ae(e),"onExchangeRequestSubmitSuccess",{configurable:!0,enumerable:!0,writable:!0,value:function(t,a){f.a.saveToLocalStorage(a.respond_user,JSON.stringify(a));var n=e.state.userSelected;e.setState({isWaitingForCounterPartyToVerify:!0,letterToGive:t,userSelected:""}),e.setState({userSelected:n})}}),Object.defineProperty(ae(e),"onExchangeResponseSubmitSuccess",{configurable:!0,enumerable:!0,writable:!0,value:function(t){I.a.showNotification(x.a.NOTIFICATION_EXCHANGE_SUCCESSFUL),e.retriveLetters(),f.a.saveToLocalStorage(t.request_user,JSON.stringify(t)),e.setState({isVerifyingForCounterParty:!1})}}),Object.defineProperty(ae(e),"onGameCompleted",{configurable:!0,enumerable:!0,writable:!0,value:function(){e.pusher.disconnect()}}),Object.defineProperty(ae(e),"onUserSelected",{configurable:!0,enumerable:!0,writable:!0,value:function(t){e.state.activeUsers[t.target.id]===e.state.userName?I.a.showNotification(x.a.NOTIFICATION_SAME_NAME_SELECTED):(console.log("Setting user selected to "+t.target.id),e.setState({userSelected:e.state.activeUsers[t.target.id]}))}}),Object.defineProperty(ae(e),"retriveLetters",{configurable:!0,enumerable:!0,writable:!0,value:function(){S.a.getAssignedLetters().then(function(t){e.setState({lettersAssigned:t})},function(e){})}}),Object.defineProperty(ae(e),"retrieveActiveUsers",{configurable:!0,enumerable:!0,writable:!0,value:function(){S.a.getActiveUsers().then(function(t){e.setState({activeUsers:t})},function(e){})}}),Object.defineProperty(ae(e),"retrieveUserInfo",{configurable:!0,enumerable:!0,writable:!0,value:function(){S.a.getUserInfo().then(function(t){console.log("Retrieved User Object "+JSON.stringify(t)),e.setState({userName:t.name,birthday:t.birthday,favouriteFood:t.favouriteFood,deshu:t.deshu})},function(e){})}}),Object.defineProperty(ae(e),"retriveUserName",{configurable:!0,enumerable:!0,writable:!0,value:function(){S.a.getUserName().then(function(t){e.setState({userName:t})},function(e){})}}),Object.defineProperty(ae(e),"cancelRespondToRequester",{configurable:!0,enumerable:!0,writable:!0,value:function(){e.setState({isVerifyingForCounterParty:!1}),S.a.cancelExchange(e.exchangeRequest)}}),Object.defineProperty(ae(e),"onSignIn",{configurable:!0,enumerable:!0,writable:!0,value:function(t,a,n,r){t=t.toUpperCase(),console.log("Signing in..."+t);var o=new c(t,a,r,n);S.a.loginUser(o).then(function(t){e.setState({signedIn:!0})},function(e){I.a.showNotification(e)})}}),Object.defineProperty(ae(e),"onSignOut",{configurable:!0,enumerable:!0,writable:!0,value:function(){console.log("On signing out..."),e.setState({signedIn:!1}),I.a.showNotification(x.a.NOTIFICATION_UNREGISTER_USER)}}),Object.defineProperty(ae(e),"updateExchangeRequest",{configurable:!0,enumerable:!0,writable:!0,value:function(t){e.exchangeRequest=t}}),e.state={userName:"",deshu:"",birthday:"",favouriteFood:"",activeUsers:[],lettersAssigned:[],userSelected:"",isWaitingForCounterPartyToVerify:!1,isVerifyingForCounterParty:!1,isWaitingForGameToStart:!0,signedIn:!1,letterToGive:"",authenticationChecked:!1,gameStartedChecked:!1},console.log("notify from index is "+JSON.stringify(E.notify)),e.exchangeRequest={},e}var a,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,p["a"]),a=t,(n=[{key:"componentDidMount",value:function(){this.setupPusher(),this.checkGameState()}},{key:"render",value:function(){var e=this;return this.state.authenticationChecked&&this.state.gameStartedChecked?this.state.signedIn?this.state.isWaitingForGameToStart&&this.state.signedIn?i.a.createElement(N.a,null,i.a.createElement(P,{onSignOut:this.onSignOut})):this.state.isWaitingForCounterPartyToVerify?i.a.createElement(N.a,null,i.a.createElement($,{cancel:this.cancelWaitingForVerification})):this.state.isVerifyingForCounterParty?i.a.createElement(N.a,null,i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{className:"label-general"},this.exchangeRequest.request_user," has requested to connect.Please fill in his details below.")),i.a.createElement(Y,{targetUser:this.exchangeRequest.request_user,userName:this.exchangeRequest.request_user,onExchangeResponseSubmitSuccess:this.onExchangeResponseSubmitSuccess,lettersAvailable:this.state.lettersAssigned,exchangeRequest:this.exchangeRequest}),i.a.createElement("button",{onClick:this.cancelRespondToRequester,className:"btn-cancel"},"Cancel")):i.a.createElement(N.a,null,i.a.createElement("div",{id:"wrapper",className:"jsx-1696882089"},i.a.createElement("div",{id:"sidebar-wrapper",className:"jsx-1696882089"},i.a.createElement("nav",{id:"spy",className:"jsx-1696882089"},i.a.createElement("ul",{className:"jsx-1696882089 sidebar-nav nav"},this.state.activeUsers.map(function(t,a){return i.a.createElement("li",{id:a,onClick:e.onUserSelected,className:"jsx-1696882089 sidebar-brand"},t)})))),i.a.createElement("div",{id:"page-content-wrapper",className:"jsx-1696882089"},i.a.createElement("div",{"data-spy":"scroll","data-target":"#spy",className:"jsx-1696882089 page-content inset"},i.a.createElement(U,{onGameCompleted:this.onGameCompleted,userName:this.state.userName,deshu:this.state.deshu,birthday:this.state.birthday,favouriteFood:this.state.favouriteFood,lettersAssigned:this.state.lettersAssigned}),i.a.createElement("div",{style:{marginTop:"50px",marginBottom:"50px"},className:"jsx-1696882089 form-group"},i.a.createElement("label",{className:"jsx-1696882089 label-general"},"Fill in the details of the player you would like to exchange with below.")),i.a.createElement(W,{targetUser:this.state.userSelected,userName:this.state.userName,onExchangeRequestSubmitSuccess:this.onExchangeRequestSubmitSuccess,userSelected:this.state.userSelected,lettersAvailable:this.state.lettersAssigned,updateExchangeRequest:this.updateExchangeRequest})))),i.a.createElement(r.a,{styleId:"1696882089",css:["#wrapper.active.jsx-1696882089{padding-left:0;}","#wrapper.active.jsx-1696882089 #sidebar-wrapper.jsx-1696882089{left:0;}","#page-content-wrapper.jsx-1696882089{width:100%;}",".sidebar-nav.jsx-1696882089 li.jsx-1696882089{line-height:40px;text-indent:20px;}",".sidebar-nav.jsx-1696882089 li.jsx-1696882089 a.jsx-1696882089{color:#999999;display:block;-webkit-text-decoration:none;text-decoration:none;padding-left:60px;}",".sidebar-nav.jsx-1696882089 li.jsx-1696882089 a.jsx-1696882089 span.jsx-1696882089:before{position:absolute;left:0;color:#41484c;text-align:center;width:20px;line-height:18px;}",".sidebar-nav.jsx-1696882089 li.jsx-1696882089 a.jsx-1696882089:hover,.sidebar-nav.jsx-1696882089 li.active.jsx-1696882089{color:#fff;background:rgba(255,255,255,0.2);-webkit-text-decoration:none;text-decoration:none;}",".sidebar-nav.jsx-1696882089 li.jsx-1696882089 a.jsx-1696882089:active,.sidebar-nav.jsx-1696882089 li.jsx-1696882089 a.jsx-1696882089:focus{-webkit-text-decoration:none;text-decoration:none;}",".sidebar-nav.jsx-1696882089>.sidebar-brand.jsx-1696882089 a.jsx-1696882089{color:#999999;}",".sidebar-nav.jsx-1696882089>.sidebar-brand.jsx-1696882089 a.jsx-1696882089:hover{color:#fff;background:none;}",".inset.jsx-1696882089{padding:20px;}","@media (min-width:1224px){#wrapper.jsx-1696882089{padding-left:250px;-webkit-transition:all 0.4s ease 0s;transition:all 0.4s ease 0s;}#sidebar-wrapper.jsx-1696882089{margin-left:-250px;left:250px;width:250px;background:linear-gradient(#000000,#3300CC);font-family:'Roboto Medium',sans-serif;font-size:100%;font-weight:lighter;position:fixed;height:100%;overflow-y:auto;z-index:1000;-webkit-transition:all 0.4s ease 0s;transition:all 0.4s ease 0s;color:white;}.sidebar-nav.jsx-1696882089>.sidebar-brand.jsx-1696882089{height:65px;line-height:60px;font-size:18px;}.sidebar-nav.jsx-1696882089{position:absolute;top:0;width:250px;list-style:none;margin:0;padding:0;}}","@media (max-width:1224px){#wrapper.jsx-1696882089{padding-left:100px;-webkit-transition:all 0.4s ease 0s;transition:all 0.4s ease 0s;}#sidebar-wrapper.jsx-1696882089{margin-left:-100px;left:100px;width:100px;background:linear-gradient(#000000,#3300CC);font-family:'Roboto Medium',sans-serif;font-size:100%;font-weight:lighter;position:fixed;height:100%;overflow-y:auto;z-index:1000;-webkit-transition:all 0.4s ease 0s;transition:all 0.4s ease 0s;color:white;}.sidebar-nav.jsx-1696882089>.sidebar-brand.jsx-1696882089{height:65px;line-height:60px;font-size:10px;}.sidebar-nav.jsx-1696882089{position:absolute;top:0;width:100px;list-style:none;margin:0;padding:0;}}"]})):i.a.createElement(N.a,null,i.a.createElement("div",null,i.a.createElement(y,{onSignIn:this.onSignIn}))):i.a.createElement(N.a,null)}}])&&te(a.prototype,n),o&&te(a,o),t}()},287:function(e,t){e.exports={insertLetter:function(e,t){e.findIndex("-")},shuffleString:function(e){for(var t=e.split(""),a=t.length-1;a>0;a--){var n=Math.floor(Math.random()*(a+1)),r=t[a];t[a]=t[n],t[n]=r}return t.join("")},saveToLocalStorage:function(e,t){"undefined"!=typeof localStorage&&(console.log("Setting local storage "+e+":"+t),localStorage.setItem(e,t))}}},30:function(e,t,a){var n=a(55).notify,r=a(91);console.log("Notify is "+JSON.stringify(n)),e.exports={showNotification:function(e){n.show(e,r.NOTIFICATION_TYPE,r.NOTIFICATION_TIMEOUT,{background:r.NOTIFICATION_BACKGROUND_COLOR,text:r.NOTIFICATION_TEXT_COLOR})}}},91:function(e,t){e.exports={DB_NAME:"iceBreaker",DB_PORT:27017,DB_HOST:"localhost",FULL_URI:"http://localhost:3000",HOST_IP:"127.0.0.1",HOST:"localhost",PORT:3e3,COOKIE_DURATION:18e5,SESSION_SECRET:"jakbgakegb545",NOTIFICATION_TYPE:"custom",NOTIFICATION_TIMEOUT:5e3,NOTIFICATION_BACKGROUND_COLOR:"#0E1717",NOTIFICATION_TEXT_COLOR:"#FFFFFF"}}},[285]).default}});